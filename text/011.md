# 恋に落ちるラジオ(2) 恋に落ちるJSON

……でさー、私も昆布すいてみたんだけどー、あれすっごいすけるのよねー。サラーって。もう長い長い。びっくりしちゃってさー。でさ、あんまりキレイにすけたから、ノレンみたいに部屋に飾ってたのね。そう。ノレン。でもさ、横通る度にさ、酢がね、目にしみるの。酢。盲点だったねー。やっぱさー、昆布って食べるもんだよね。で、しばらく置いといたら……

……え、始まってる？　やっば。  
　では、タイトルコール！  
　木更津彩（きさらづあや）の、恋に落ちる、ジェイソン！

　＊

　はてさて、今週も始まっちゃいました、恋に落ちるJSON。  
　改めまして、こんばんジェイソン。パーソナリティの木更津彩です。花の現役女子中学生です。  
　この番組は、888.8MHz、敦賀ガベージコレクションFMからお送りしております。

　毎度おなじみこの番組は、JavaScriptととっても相性の良いデータ交換フォーマット、JSONの最新情報をお伝えする、生活密着型の情報番組です。  
　あなたとつながるー、オブジェクト・ノーテーション！

　この番組は、敦賀こんぶ館、敦賀かまぼこ道場、敦賀かたパン工房の提供でお送りします。

　＊

　それでは、今日もさっそくメールから御紹介しますね。  
　えー、ラジオネーム、おろし蕎麦は究極のメニューさん。いつもありがとうございます。

『彩ちゃん、こんばんジェイソン。』  
　はい、こんばんジェイソンー。  
『JSONって最近よく聞くんですけど、いつ役に立つのかよくわかりません。気になってルートクラックも手につきません。彩ちゃん、手取り足取り教えて下さい』……

　はい、ありがとうございます。番組特製砂消しを差し上げます。  
　まずね、あのホラー映画に一切触れてないところが素晴らしいよね。今週のメール、九割それだったからね。もうちょっと考えなさい、っていうね。

　さてJSONとは、JavaScript Object Notationの頭文字です。直訳すると、JavaScriptオブジェクトの書き方、表記法。  
　もう、ほんとにそれ以上でも以下でもないんだよね。まさにそれ。ジャストそれ。  
　つまりさ、JavaScriptオブジェクトをそのままいろんなデータのやり取りに使おうよ、っていうことなんです。

　昔から、データのやり取りにはカンマ区切りやタブ文字区切りのテキストデータが使われてきたんですけどね。もっと汎用的に使えるフォーマットが良いよー、ということになって、データの意味が埋め込まれ、キレイに構造化されたフォーマットが出来上がりました。それが、XMLと呼ばれるマークアップ言語です。

　前回お話ししたAjaxにも出てきましたねー。XMLHttpRequestという通信の仕組みも、元はと言えばその名の通りXMLをやり取りすることを想定していました。

　で、このXMLを一生懸命やり取りしてたんですけど。データをXML形式に整形して、送って、受け取ったXMLを使いやすいように変換して。これを繰り返しているうちに、頭の良い誰かが考えつきました。
　JavaScriptのオブジェクト形式のまんまやり取りした方が、よっぽど楽じゃね？  
　と。この人、さすが。天才現るだね。  
　構造化の面ではXMLに分があるけど、それでも必要十分だし。XMLより軽量で、何よりJavaScriptで非常に簡単に読み込める。このような理由で、みるみるうちに人気となりました。

　ま、あとはWikipediaとかで各自調べてください。彩との約束だよ？

　＊

　それでは、続いてのメールです。  
　えー、ラジオネーム、スカロップ食べ放題さん。ありがとうございます。

『彩ちゃん、こんばんジェイソン。』  
　はい、こんばんジェイソンー。  
『JSONを使う上で、気をつけるべきことは何ですか？　一回使うごとに誰かのパンツが……』

　はい、ありがとうございます。私の部屋の昆布送っときます。目をやられろ。

　記法としてはJavaScriptのオブジェクトとほぼ同じで、キーと値のペアの集合体なんですけど。でも、若干違うところもあるので注意してくださいね。例えば、キーは必ずダブルクォートで囲まないとエラーになる、とか。

　あ、あと注意することというか、初心者が混乱するのがJSONとJSONPの違いでしょうかね。

　さっきも出てきたXMLHttpRequestという通信なんですけど、セキュリティー上の制限により、別ドメインにあるJSONデータにはアクセスできません。余計なお世話だー、って感じするんですけど、セキュリティーとか言われちゃったらもう、ひれ伏すしかないよね。しょうがないよね。  
　じゃあ、別ドメインのサイトにあるデータにはどうやってアクセスするんだよオイ、ってことで考えられたのがJSONPです。詳しい説明はもう眠いので割愛しますが、JSONデータを一つの関数として囲んじゃって、JavaScriptの外部ソースとして呼び出す裏ワザみたいなやり方です。よく分からない？　WikipediaへGO。

　＊

　さてさて、そろそろ終わりの時間です。  
　番組では、質問、感想、苦情、なんでもメールで受け付けてます。どしどし送ってくださいね。

　さて、次回なんですけど。なんと、スペシャルですー。どんどんぱちぱちー。  
　地元、Ｔ高校情報処理部のお姉さん二人が、ゲストとして来て下さいますー。女子高生ですよ、女子高生。  
　JavaScriptの楽しいお話、出来ると嬉しいなー。

　それでは、次回も楽しみにしてくださいね。  
　お相手は、あなたとつながる、オブジェクト・ノーテーション、木更津彩でした。  
　それでは、バイバイジェイソン！

　＊

「ちょっと！　樹里！　聞いたわよ、昨日の！」

　放課後、情報処理部の部室。  
　中央には篠宮樹里（しのみやじゅり）と瀬尾絵子（せのおえこ）の二人の部員。

「今週も面白かったな」  
「そこじゃないわよ！　何、最後の！　ゲストって！」  
「ああ、とてもいい番組なので応援のメールを出したら、出演できることになった」  
「聞いてないわよ！　なんで私も出ることになってんのよ！」  
「まあ、いい機会じゃないか。こんな経験、そうそう出来ることじゃないぞ」  
「そうだけど……」

　嬉々とする樹里、不安げな絵子。  
　この街に、二人の声が届けられようとしていた。
